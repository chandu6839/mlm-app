"use strict";(self.webpackChunkmlm_app=self.webpackChunkmlm_app||[]).push([[609],{609:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var n=a(9950),r=a(1277),l=a(3011),o=a(693),i=a(2053),t=a(3174),d=a(9925),m=a(226),u=a(6639),p=a(5979),c=a(3788),h=a(6101),f=a(4322),g=a(6080),x=a(8429),w=a(4414);const A=function(){const[e,s]=(0,n.useState)({username:"",email:"",password:"",confirmPassword:"",sponsorId:"",placement:"auto",fullName:"",phone:"",address:""}),[a,A]=(0,n.useState)(""),[v,j]=(0,n.useState)(null),[I,S]=(0,n.useState)(!1),b=(0,x.Zp)(),P=a=>{const{name:n,value:r}=a.target;s({...e,[n]:r}),"sponsorId"===n&&j(null)};return(0,w.jsx)(r.A,{component:"main",maxWidth:"xs",children:(0,w.jsx)(l.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,w.jsxs)(o.A,{elevation:3,sx:{p:4,width:"100%"},children:[(0,w.jsx)(i.A,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Register New Account"}),a&&(0,w.jsx)(t.A,{severity:"error",sx:{mb:2},children:a}),(0,w.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),e.username&&e.email&&e.password&&e.confirmPassword?e.password!==e.confirmPassword?(A("Passwords do not match"),0):e.password.length<8?(A("Password must be at least 8 characters long"),0):/\S+@\S+\.\S+/.test(e.email)?e.sponsorId?v||(A("Please verify your sponsor ID first"),0):(A("Sponsor ID is required"),0):(A("Please enter a valid email address"),0):(A("All fields are required"),0)){const s=JSON.parse(localStorage.getItem("users")||"[]");if(s.some((s=>s.username===e.username)))return void A("Username already exists");if(s.some((s=>s.email===e.email)))return void A("Email already registered");const a={username:e.username,email:e.email,password:e.password,sponsorId:e.sponsorId,placement:e.placement,fullName:e.fullName,phone:e.phone,address:e.address,joinDate:(new Date).toISOString(),status:"pending",rank:"New",earnings:0,network:{left:null,right:null}};s.push(a),localStorage.setItem("users",JSON.stringify(s)),b("/login")}},children:[(0,w.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",name:"fullName",autoComplete:"name",value:e.fullName,onChange:P}),(0,w.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:e.username,onChange:P}),(0,w.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:e.email,onChange:P}),(0,w.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:e.password,onChange:P}),(0,w.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:e.confirmPassword,onChange:P}),(0,w.jsxs)(l.A,{sx:{mt:2,display:"flex",gap:1},children:[(0,w.jsx)(d.A,{required:!0,fullWidth:!0,name:"sponsorId",label:"Sponsor ID",id:"sponsorId",value:e.sponsorId,onChange:P}),(0,w.jsx)(m.A,{variant:"contained",onClick:()=>{if(!e.sponsorId)return void A("Please enter a sponsor ID");S(!0);const s=JSON.parse(localStorage.getItem("users")||"[]").find((s=>s.username===e.sponsorId));s?(j(s),A("")):"demo"===e.sponsorId?(j({username:"demo",fullName:"Demo User"}),A("")):(A("Sponsor ID not found"),j(null)),S(!1)},disabled:I||!e.sponsorId,children:I?(0,w.jsx)(u.A,{size:24}):"Verify"})]}),v&&(0,w.jsxs)(t.A,{severity:"success",sx:{mt:1},children:["Sponsor verified: ",v.fullName||v.username]}),(0,w.jsxs)(p.A,{fullWidth:!0,sx:{mt:2},children:[(0,w.jsx)(c.A,{children:"Placement Preference"}),(0,w.jsxs)(h.A,{value:e.placement,label:"Placement Preference",name:"placement",onChange:P,children:[(0,w.jsx)(f.A,{value:"auto",children:"Auto Placement"}),(0,w.jsx)(f.A,{value:"left",children:"Left Team"}),(0,w.jsx)(f.A,{value:"right",children:"Right Team"})]})]}),(0,w.jsx)(d.A,{margin:"normal",fullWidth:!0,name:"phone",label:"Phone Number",id:"phone",value:e.phone,onChange:P}),(0,w.jsx)(d.A,{margin:"normal",fullWidth:!0,name:"address",label:"Address",id:"address",multiline:!0,rows:2,value:e.address,onChange:P}),(0,w.jsx)(m.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Register"}),(0,w.jsx)(l.A,{sx:{textAlign:"center"},children:(0,w.jsx)(g.A,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})]})]})})})}}}]);